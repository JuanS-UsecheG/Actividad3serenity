serenity {
  take.screenshots = BEFORE_AND_AFTER_EACH_STEP
}

headless.mode = false
webdriver.autodownload = true
environment = chrome

environments {

  chrome {
    webdriver {
      driver = chrome
      capabilities {
        browserName = "chrome"
        acceptInsecureCerts = true

        "goog:chromeOptions" {
          args = [
            "start-maximized",
            "remote-allow-origins=*",
            "test-type",
            "ignore-certificate-errors",
            "disable-infobars",
            "disable-gpu",
            "disable-default-apps",
            "disable-popup-blocking"
          ]
        }
      }
    }
  }

  edge {
    webdriver {
      driver = edge
      capabilities {
        browserName = "MicrosoftEdge"

        "ms:edgeOptions" {
          args = [
            "start-maximized",
            "remote-allow-origins=*",
            "ignore-certificate-errors"
          ]
        }
      }
    }
  }

  firefox {
    webdriver {
      driver = firefox
      capabilities {
        browserName = "firefox"
        acceptInsecureCerts = true
      }
    }
  }
}